(function(t){function a(a){for(var r,i,c=a[0],l=a[1],n=a[2],u=0,d=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);m&&m(a);while(d.length)d.shift()();return o.push.apply(o,n||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],r=!0,c=1;c<e.length;c++){var l=e[c];0!==s[l]&&(r=!1)}r&&(o.splice(a--,1),t=i(i.s=e[0]))}return t}var r={},s={ocean:0},o=[];function i(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=r,i.d=function(t,a,e){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)i.d(e,r,function(a){return t[a]}.bind(null,r));return e},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=a,c=c.slice();for(var n=0;n<c.length;n++)a(c[n]);var m=l;o.push([3,"chunk-vendors","chunk-common"]),e()})({3:function(t,a,e){t.exports=e("6189")},"5d28":function(t,a,e){t.exports=e.p+"img/ocean-logo.7df88b0d.png"},"5d72":function(t,a,e){"use strict";var r=e("dd14"),s=e.n(r);s.a},6189:function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("a026"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("myheader"),e("div",{staticClass:"main-content"},[e("div",{staticClass:"center-block",class:{view:"/"!=t.$route.path}},[e("router-view")],1)])],1)},o=[],i=(e("b0c0"),e("b64b"),e("96cf"),e("1da1")),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-inverse navbar-fixed-top head-footer-bg"},[e("div",{staticClass:"container-fluid",style:{"padding-left":"index"==t.contentType?"15%":"","padding-right":"index"==t.contentType?"15%":""}},[t._m(0),t._m(1)])])},l=[function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"navbar-header"},[r("a",{staticClass:"navbar-brand",staticStyle:{"padding-top":"0px"},attrs:{href:"/"}},[r("img",{staticClass:"navbar-logo",attrs:{alt:"Faraday",src:e("5d28"),height:"60",width:"60"}})]),r("div",{staticClass:"navbar-header"},[r("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[r("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),r("span",{staticClass:"icon-bar"}),r("span",{staticClass:"icon-bar"}),r("span",{staticClass:"icon-bar"})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"collapse navbar-collapse navbar-right head-footer-bg"},[e("ul",{staticClass:"nav navbar-nav"},[e("li",{staticClass:"nav-item"},[e("a",{attrs:{href:"#/"}},[t._v("首页")])]),e("li",{staticClass:"nav-item"},[e("a",{attrs:{href:"#/feature/list"}},[t._v("数据湖")])]),e("li",{staticClass:"nav-item"},[e("a",{attrs:{href:"#/feature/create"}},[t._v("对接沧海")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"javascript:;",target:"_blank"}},[t._v("联系我们")])]),e("li",{staticClass:"nav-item"},[e("a",{attrs:{href:"http://faraday.biz.weibo.com"}},[t._v("实验平台")])])])])}],n={name:"myheader",props:["userName","contentType"],methods:{clickToSelect:function(t){this.$emit("clickToSelect",t)}}},m=n,u=(e("fe8b"),e("2877")),d=Object(u["a"])(m,c,l,!1,null,"307c6536",null),p=d.exports,v=(e("d1ab"),e("adf6"),e("2ef0")),f=e.n(v),_=e("c1df"),g=e.n(_),h={name:"Home",data:function(){return{showSlideMenu:1,currentMenuData:[],userType:0,userName:"",PageInitAt:""}},components:{myheader:p},methods:{getUserInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feature.getUserInfo();case 2:a=t.sent,0==a.errcode&&Object.keys(a.data).length>0?localStorage.setItem("userName",a.data.user_name):window.location.href="/";case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),handleChildMounted:function(){this.checkUpdatePage()},checkUpdatePage:function(){var t=this.PageInitAt;g()(t).isBefore(g()().subtract(3600,"s"))&&window.location.reload()},unFixedTableHead:function(){$(window).unbind("scroll")},clickToSelect:function(t){this.toExpandSlideMenu()},setPageInitTime:function(){this.PageInitAt=g()().format("YYYY-MM-DD HH:mm:ss")}},mounted:function(){this.getUserInfo(),this.setPageInitTime()},watch:{$route:function(t,a){var e=a.name,r=t.name;(a.meta.isRefresh||"FeatureUpdateRecord"==e&&"CreateRecord"==r)&&(a.meta.isRefresh="false")}}},b=h,C=(e("5d72"),Object(u["a"])(b,s,o,!1,null,"f031237c",null)),y=C.exports,P=e("8c4f"),x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"head"},[e("div",{staticClass:"head_container"},[e("div",{staticClass:"head_title"},[t._m(0),e("p",{staticStyle:{"padding-top":"20px"}},[t._v("基于微博广告在线销询服务，辐射了A/B特征，通用特征，提供一套统一调 度，实时特征监控等全套特征服务体系，我们简称数据湖.")]),e("div",{staticClass:"btn-group",staticStyle:{"padding-top":"50px"},attrs:{role:"group","aria-label":"..."}},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.toJump("create_exp")}}},[t._v("点击试用")])])])])]),t._m(1),t._m(2)])},w=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"font-size":"44px","padding-top":"70px"}},[e("span",{staticStyle:{color:"rgb(62,137,208)"}}),e("span",{staticStyle:{color:"rgb(55,162,82)"}},[t._v("沧海系统"),e("sup",[e("span",{staticStyle:{"font-size":"18px",color:"rgb(243,181,43)"}},[t._v("TM")])])]),e("span",{staticStyle:{color:"rgb(243,181,43)","font-size":"17px"}},[t._v("超级在线特征数据支撑平台")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"features"},[e("div",{staticClass:"features_title"},[e("h2",[e("span",{staticStyle:{color:"rgb(243,181,43)"}},[t._v("沧海平台功能概览")])])]),e("ul",{staticStyle:{"padding-left":"0px","padding-top":"30px"}},[e("li",[e("div",{staticClass:"features_icon_1 iconfont",staticStyle:{color:"rgb(40,49,57)","font-size":"40px"}},[t._v("")]),e("h3",[t._v("支持自动上传特征数据")])]),e("li",[e("div",{staticClass:"features_icon_4 iconfont",staticStyle:{color:"rgb(40,49,57)","font-size":"40px"}},[t._v("")]),e("h3",[t._v("实时查看数据更新状态")])]),e("li",[e("div",{staticClass:"features_icon_3 iconfont",staticStyle:{color:"rgb(40,49,57)","font-size":"40px"}},[t._v("")]),e("h3",[t._v("提供多种便捷数据获取方式")])]),e("li",[e("div",{staticClass:"features_icon_2 iconfont",staticStyle:{color:"rgb(40,49,57)","font-size":"40px"}},[t._v("")]),e("h3",[t._v("支持查看特征数据")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"head-footer-bg",staticStyle:{height:"200px"}},[e("div",{staticClass:"text-center"},[e("h3",{staticStyle:{color:"rgb(55,162,82)","padding-top":"30px"}},[t._v("联系我们")]),e("h4",{staticStyle:{color:"#979797"}},[t._v("wangxin25@staff.weibo.com")]),e("h4",{staticStyle:{color:"#979797"}},[t._v(" yajun@staff.weibo.com")]),e("div",{staticStyle:{"padding-top":"30px"}},[e("p",{staticStyle:{color:"white"}},[e("span",{staticStyle:{display:"inline-block","margin-right":"10px"}},[t._v("友情链接：")]),e("span",{staticStyle:{display:"inline-block","margin-right":"30px",color:"#979797"}},[e("a",{attrs:{href:"http://faraday.biz.weibo.com"}},[t._v("法拉第实验平台")])]),e("span",{staticStyle:{display:"inline-block",color:"#979797"}},[e("a",{attrs:{href:"http://faraday.biz.weibo.com/all-insights"}},[t._v("法拉第精益洞察")])])])])])])}],S=(e("3a87"),{methods:{toJump:function(t){"create_exp"==t&&(window.location.href="/#/feature/create")}}}),D=S,k=Object(u["a"])(D,x,w,!1,null,null,null),F=k.exports,j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("h4",[t._v("数据加载列表")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"project"}},[t._v("项目：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.project,expression:"project"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.project=a.target.multiple?e:e[0]}}},[t._l(t.projectList,(function(a,r){return[e("option",{domProps:{value:a}},[t._v(t._s(a))])]}))],2)])]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"dataSource"}},[t._v("数据源：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.dataSource,expression:"dataSource"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.dataSource=a.target.multiple?e:e[0]}}},[e("option",{domProps:{value:""}},[t._v("所有")]),t._l(t.sourceList,(function(a,r){return[e("option",{domProps:{value:a}},[t._v(t._s(a))])]}))],2)])]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"version"}},[t._v("版本：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.version,expression:"version"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.version=a.target.multiple?e:e[0]}}},[e("option",{domProps:{value:""}},[t._v("所有")]),t._l(t.versionList,(function(a,r){return[e("option",{domProps:{value:a}},[t._v(t._s(a))])]}))],2)])]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"version"}}),e("div",[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.searchList}},[t._v("查 询")])])])])]),e("div",{staticClass:"row pad-top-10"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",[t._l(t.list,(function(a){return[e("tr",[e("td",[e("strong",[t._v(t._s(a.update_time))])]),e("td",[t._v(t._s(a.source))]),e("td",[t._v(t._s(a.version))]),e("td",[t._v(t._s(a.process)+"%")]),e("td",[t._v(t._s(a.status))])])]}))],2)])])])},N=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-header"},[e("ul",{staticClass:"nav nav-pills"},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#"}},[t._v("数据")])]),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#/feature/create_record"}},[t._v("项目列表")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("更新时间")]),e("th",[t._v("数据源")]),e("th",[t._v("版本")]),e("th",[t._v("进度")]),e("th",[t._v("状态")])])])}],O={name:"List",data:function(){return{project:"",version:"",dataSource:"",projectList:[],sourceList:[],versionList:[],list:[]}},watch:{project:function(){this.getSourceList()},dataSource:function(){this.getVersionList()},version:function(){this.searchList()}},mounted:function(){this.getProjectList()},methods:{getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feature.getProjectList();case 2:a=t.sent,this.projectList=a.data,null!=this.projectList&&this.projectList.length>0&&(this.project=this.projectList[0]);case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),getSourceList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feature.getSourceList(this.project);case 2:a=t.sent,this.sourceList=a.data,this.getVersionList();case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),getVersionList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feature.getVersionList(this.project,this.dataSource);case 2:a=t.sent,this.versionList=a.data,this.searchList();case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),searchList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feature.getFeatureList(this.project,this.dataSource,this.version);case 2:if(a=t.sent,0==a.errcode){t.next=6;break}return this.$set(this,"list",[]),t.abrupt("return");case 6:this.$set(this,"list",a.data);case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()}},L=O,T=Object(u["a"])(L,j,N,!1,null,null,null),R=T.exports,z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"projectName"}},[t._v("项目名称:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.name,expression:"createParam.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"项目名称"},domProps:{value:t.createParam.name},on:{input:function(a){a.target.composing||t.$set(t.createParam,"name",a.target.value)}}})])]),t._m(1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("数据源名称")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.source,expression:"createParam.source"}],staticClass:"form-control",attrs:{type:"text",placeholder:"数据源名称"},domProps:{value:t.createParam.source},on:{input:function(a){a.target.composing||t.$set(t.createParam,"source",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("数据前缀")]),e("div",{staticClass:"col-sm-5"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.prefix,expression:"createParam.prefix"}],staticClass:"form-control",attrs:{type:"text",placeholder:"数据前缀"},domProps:{value:t.createParam.prefix},on:{input:function(a){a.target.composing||t.$set(t.createParam,"prefix",a.target.value)}}})]),e("div",{staticClass:"col-sm-2"},[e("button",{staticClass:"form-control btn btn-info",on:{click:t.verifyStoragePrefix}},[t._v("验证")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceDir"}},[t._v("数据源目录:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.source_dir,expression:"createParam.source_dir"}],staticClass:"form-control",attrs:{type:"text",placeholder:"数据源目录"},domProps:{value:t.createParam.source_dir},on:{input:function(a){a.target.composing||t.$set(t.createParam,"source_dir",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("存储类型:")]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.db_type,expression:"createParam.db_type"}],attrs:{type:"radio",name:"dataSourceType",value:"redis"},domProps:{checked:t._q(t.createParam.db_type,"redis")},on:{change:function(a){return t.$set(t.createParam,"db_type","redis")}}}),t._v("REDIS ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.db_type,expression:"createParam.db_type"}],attrs:{type:"radio",name:"dataSourceType",value:"pg"},domProps:{checked:t._q(t.createParam.db_type,"pg")},on:{change:function(a){return t.$set(t.createParam,"db_type","pg")}}}),t._v("PG ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.db_type,expression:"createParam.db_type"}],attrs:{type:"radio",name:"dataSourceType",value:"mysql"},domProps:{checked:t._q(t.createParam.db_type,"mysql")},on:{change:function(a){return t.$set(t.createParam,"db_type","mysql")}}}),t._v("MYSQL ")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"savePrefix"}},[t._v("数据文件前缀:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.source_prefix,expression:"createParam.source_prefix"}],staticClass:"form-control",attrs:{type:"text",placeholder:"存储前缀"},domProps:{value:t.createParam.source_prefix},on:{input:function(a){a.target.composing||t.$set(t.createParam,"source_prefix",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"srcDataFormate"}},[t._v("源数据格式:")]),e("div",{staticClass:"col-sm-5"},[e("p",{staticClass:"form-control-static"},[t._v(t._s(this.srcDataFormatText))])]),e("div",{staticClass:"col-sm-2"},[e("button",{staticClass:"form-control btn btn-info",on:{click:function(a){return t.showSrcDataFormatModal("show")}}},[t._v("点击输入")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSize"}},[t._v("数据量大小:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.data_size,expression:"createParam.data_size"}],staticClass:"form-control",attrs:{type:"number",placeholder:"数据占用空间大小"},domProps:{value:t.createParam.data_size},on:{input:function(a){a.target.composing||t.$set(t.createParam,"data_size",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataMaxLine"}},[t._v("最大数据行数:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.max_data_line,expression:"createParam.max_data_line"}],staticClass:"form-control",attrs:{type:"number",placeholder:"最大数据行数"},domProps:{value:t.createParam.max_data_line},on:{input:function(a){a.target.composing||t.$set(t.createParam,"max_data_line",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"checkCycle"}},[t._v("检查周期:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.check_cycle,expression:"createParam.check_cycle"}],staticClass:"form-control",attrs:{type:"number",placeholder:"单位为分钟"},domProps:{value:t.createParam.check_cycle},on:{input:function(a){a.target.composing||t.$set(t.createParam,"check_cycle",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"reloadCycle"}},[t._v("重新加载周期:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.reload_cycle,expression:"createParam.reload_cycle"}],staticClass:"form-control",attrs:{type:"number",placeholder:"单位为分钟"},domProps:{value:t.createParam.reload_cycle},on:{input:function(a){a.target.composing||t.$set(t.createParam,"reload_cycle",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataLiveTime"}},[t._v("数据存活时间:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.expire_time,expression:"createParam.expire_time"}],staticClass:"form-control",attrs:{type:"number",placeholder:"单位为分钟"},domProps:{value:t.createParam.expire_time},on:{input:function(a){a.target.composing||t.$set(t.createParam,"expire_time",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"mailList"}},[t._v("通知邮件列表:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.mail_list,expression:"createParam.mail_list"}],staticClass:"form-control",attrs:{type:"text",placeholder:"test@staff.weibo.com,中间分号分隔"},domProps:{value:t.createParam.mail_list},on:{input:function(a){a.target.composing||t.$set(t.createParam,"mail_list",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"mailAlert"}},[t._v("完成后邮件通知:")]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.b_mailing,expression:"createParam.b_mailing"}],attrs:{type:"radio",name:"inlineRadioOptions",value:"1"},domProps:{checked:t._q(t.createParam.b_mailing,"1")},on:{change:function(a){return t.$set(t.createParam,"b_mailing","1")}}}),t._v("是 ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.createParam.b_mailing,expression:"createParam.b_mailing"}],attrs:{type:"radio",name:"inlineRadioOptions",value:"0"},domProps:{checked:t._q(t.createParam.b_mailing,"0")},on:{change:function(a){return t.$set(t.createParam,"b_mailing","0")}}}),t._v("否 ")])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-2 col-sm-6"},[e("button",{staticClass:"btn btn-primary",on:{click:t.create}},[t._v("提 交")])])])]),e("modal",{attrs:{modalId:"srcDataFormatId",modalSize:"modal-lg"}},[e("template",{slot:"header"},[e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v("源数据格式")])]),e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"project"}},[t._v("数据结构:")]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataStruct,expression:"srcDataStruct"}],attrs:{type:"radio",name:"data_struct",value:"key-value"},domProps:{checked:t._q(t.srcDataStruct,"key-value")},on:{change:function(a){t.srcDataStruct="key-value"}}}),t._v("kv ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataStruct,expression:"srcDataStruct"}],attrs:{type:"radio",name:"data_struct",value:"vector"},domProps:{checked:t._q(t.srcDataStruct,"vector")},on:{change:function(a){t.srcDataStruct="vector"}}}),t._v("vector ")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"project"}},[t._v("数据存储格式:")]),e("div",{staticClass:"col-sm-6"},["key-value"==t.srcDataStruct?e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.storage_format,expression:"srcDataFormat.storage_format"}],attrs:{type:"radio",name:"data_type",value:"string"},domProps:{checked:t._q(t.srcDataFormat.storage_format,"string")},on:{change:function(a){return t.$set(t.srcDataFormat,"storage_format","string")}}}),t._v("string ")]):t._e(),"vector"==t.srcDataStruct?e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.storage_format,expression:"srcDataFormat.storage_format"}],attrs:{type:"radio",name:"data_type",value:"int_binary"},domProps:{checked:t._q(t.srcDataFormat.storage_format,"int_binary")},on:{change:function(a){return t.$set(t.srcDataFormat,"storage_format","int_binary")}}}),t._v("int二进制数据 ")]):t._e(),"vector"==t.srcDataStruct?e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.storage_format,expression:"srcDataFormat.storage_format"}],attrs:{type:"radio",name:"data_type",value:"float32_binary"},domProps:{checked:t._q(t.srcDataFormat.storage_format,"float32_binary")},on:{change:function(a){return t.$set(t.srcDataFormat,"storage_format","float32_binary")}}}),t._v("float64二进制数组 ")]):t._e()])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"project"}},[t._v("分隔符:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.delimiter,expression:"srcDataFormat.delimiter"}],staticClass:"form-control",attrs:{type:"email",placeholder:";"},domProps:{value:t.srcDataFormat.delimiter},on:{input:function(a){a.target.composing||t.$set(t.srcDataFormat,"delimiter",a.target.value)}}})])])]),e("template",{slot:"footer"},[e("button",{staticClass:"btn btn-default btn-danger",attrs:{type:"button"},on:{click:function(a){return t.showSrcDataFormatModal("hide")}}},[t._v("确定")])])],2)],1)},q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-header"},[e("ul",{staticClass:"nav nav-pills"},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#/feature/create"}},[t._v("开始对接")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("数据源类型")]),e("div",{staticClass:"col-sm-6"},[e("p",{staticClass:"form-control-static"},[t._v("HADOOP")])])])}],I=(e("99af"),{data:function(){return{createParam:{name:"",source_type:"hadoop",source:"",prefix:"",source_dir:"",db_type:"redis",source_prefix:"",src_data_format:"",data_size:"",max_data_line:0,check_cycle:"",reload_cycle:"",expire_time:"",mail_list:"",b_mailing:1},srcDataStruct:"key-value",srcDataFormat:{storage_format:"string",delimiter:","}}},computed:{srcDataFormatText:function(){return"数据结构：".concat(this.$config.common.dataStructConf[this.srcDataStruct],"，数据存储格式：").concat(this.$config.common.dataTypeConf[this.srcDataFormat.storage_format],"，分隔符：").concat(this.srcDataFormat.delimiter)}},watch:{srcDataStruct:function(t,a){this.srcDataFormat.storage_format="key-value"==t?"string":"int_binary"}},methods:{create:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.createParam,a.data_format=JSON.stringify({data_format:this.srcDataStruct,storage_format:this.srcDataFormat.storage_format,delimiter:this.srcDataFormat.delimiter}),a.creator=localStorage.getItem("userName"),t.next=5,this.$api.feature.create(this.createParam);case 5:if(e=t.sent,0==e.errcode){t.next=9;break}return alert("提交失败"),t.abrupt("return");case 9:alert("提交成功");case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),verifyStoragePrefix:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.createParam.prefix){t.next=3;break}return this.$bootbox.alert("请输入存储前缀"),t.abrupt("return");case 3:return t.next=5,this.$api.feature.verifyStoragePrefix(this.createParam.prefix);case 5:if(a=t.sent,0==a.errcode){t.next=9;break}return this.$bootbox.alert("请求出错"),t.abrupt("return");case 9:"true"==a.data.status?this.$bootbox.alert("验证成功"):this.$bootbox.alert("验证失败");case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),showSrcDataFormatModal:function(t){$("#srcDataFormatId").modal(t)}}}),E=I,M=Object(u["a"])(E,z,q,!1,null,null,null),A=M.exports,J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("div",{staticClass:"row pad-top-10"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",[t._l(t.list,(function(a){return[e("tr",[e("td",[e("strong",[t._v(t._s(a.submit_time))])]),e("td",[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.showDetail(a)}}},[t._v(t._s(a.name))])]),e("td",[t._v(t._s(a.status_text))]),e("td",[t._v(t._s(a.creator))]),e("td",[t._v(t._s(a.describe))])])]}))],2)])]),e("modal",{attrs:{modalId:"recordDetailId",modalSize:"modal-md"}},[e("template",{slot:"header"},[e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v("详情")])]),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[e("strong",[t._v("项目名称："+t._s(t.detail.name))])]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("数据源类型：HADOOP")])]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("数据源目录：")]),t._v(" "+t._s(t.detail.source_dir)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("存储类型：")]),t._v(" "+t._s(t.detail.db_type)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("存储前缀：")]),t._v(" "+t._s(t.detail.source_prefix)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("源数据格式：")]),t._v(" "+t._s(t.srcDataFormatText)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("保存版本数量：")]),t._v(" "+t._s(t.detail.save_version_count)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("数据量大小：")]),t._v(" "+t._s(t.detail.data_size)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("最大数据行数：")]),t._v(" "+t._s(t.detail.max_data_line)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("检查周期：")]),t._v(" "+t._s(t.detail.check_cycle)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("重新加载周期：")]),t._v(" "+t._s(t.detail.reload_cycle)+" ")]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("数据存活时间：")]),t._v(" "+t._s(t.detail.expire_time)+" ")])]),e("template",{slot:"footer"})],2)],1)},H=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-header"},[e("ul",{staticClass:"nav nav-pills"},[e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#/feature/list"}},[t._v("数据")])]),e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#/feature/create_record"}},[t._v("项目列表")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("提交日期")]),e("th",[t._v("项目名称")]),e("th",[t._v("状态")]),e("th",[t._v("创建人")]),e("th",[t._v("详情")])])])}],U={name:"FeatureCreateRecord",data:function(){return{list:[],detail:{data_format_json:{data_format:"",storage_format:"",delimiter:""}}}},mounted:function(){this.getList()},computed:{srcDataFormatText:function(){return"数据结构：".concat(this.$config.common.dataStructConf[this.detail.data_format_json.data_format],"，数据存储格式：").concat(this.$config.common.dataTypeConf[this.detail.data_format_json.storage_format],"，分隔符：").concat(this.detail.data_format_json.delimiter)}},methods:{getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feature.getSubmitHistory();case 2:if(a=t.sent,0==a.errcode){t.next=6;break}return this.$set(this,"list",[]),t.abrupt("return");case 6:this.$set(this,"list",a.data);case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),showDetail:function(t){this.detail=t,this.detail.data_format_json=JSON.parse(this.detail.data_format),$("#recordDetailId").modal("show"),localStorage.setItem("tempDetail",JSON.stringify(t))},modify:function(){this.$router.push({path:"/feature/update/".concat(this.detail.id)})}}},Y=U,V=Object(u["a"])(Y,J,H,!1,null,null,null),B=V.exports,G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"projectName"}},[t._v("项目名称:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.name,expression:"updateParam.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"项目名称"},domProps:{value:t.updateParam.name},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"name",a.target.value)}}})])]),t._m(1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("数据源名称")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.source,expression:"updateParam.source"}],staticClass:"form-control",attrs:{type:"text",placeholder:"数据源名称"},domProps:{value:t.updateParam.source},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"source",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("数据前缀")]),e("div",{staticClass:"col-sm-5"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.prefix,expression:"updateParam.prefix"}],staticClass:"form-control",attrs:{type:"text",placeholder:"数据前缀"},domProps:{value:t.updateParam.prefix},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"prefix",a.target.value)}}})]),e("div",{staticClass:"col-sm-2"},[e("button",{staticClass:"form-control btn btn-info",on:{click:t.verifyStoragePrefix}},[t._v("验证")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceDir"}},[t._v("数据源目录:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.source_dir,expression:"updateParam.source_dir"}],staticClass:"form-control",attrs:{type:"text",placeholder:"数据源目录"},domProps:{value:t.updateParam.source_dir},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"source_dir",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("存储类型:")]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.db_type,expression:"updateParam.db_type"}],attrs:{type:"radio",name:"dataSourceType",value:"redis"},domProps:{checked:t._q(t.updateParam.db_type,"redis")},on:{change:function(a){return t.$set(t.updateParam,"db_type","redis")}}}),t._v("REDIS ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.db_type,expression:"updateParam.db_type"}],attrs:{type:"radio",name:"dataSourceType",value:"pg"},domProps:{checked:t._q(t.updateParam.db_type,"pg")},on:{change:function(a){return t.$set(t.updateParam,"db_type","pg")}}}),t._v("PG ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.db_type,expression:"updateParam.db_type"}],attrs:{type:"radio",name:"dataSourceType",value:"mysql"},domProps:{checked:t._q(t.updateParam.db_type,"mysql")},on:{change:function(a){return t.$set(t.updateParam,"db_type","mysql")}}}),t._v("MYSQL ")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"savePrefix"}},[t._v("数据文件前缀:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.source_prefix,expression:"updateParam.source_prefix"}],staticClass:"form-control",attrs:{type:"text",placeholder:"存储前缀"},domProps:{value:t.updateParam.source_prefix},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"source_prefix",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"srcDataFormate"}},[t._v("源数据格式:")]),e("div",{staticClass:"col-sm-5"},[e("p",{staticClass:"form-control-static"},[t._v(t._s(this.srcDataFormatText))])]),e("div",{staticClass:"col-sm-2"},[e("button",{staticClass:"form-control btn btn-info",on:{click:function(a){return t.showSrcDataFormatModal("show")}}},[t._v("点击输入")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSize"}},[t._v("数据量大小:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.data_size,expression:"updateParam.data_size"}],staticClass:"form-control",attrs:{type:"number",placeholder:"数据占用空间大小"},domProps:{value:t.updateParam.data_size},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"data_size",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataMaxLine"}},[t._v("最大数据行数:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.max_data_line,expression:"updateParam.max_data_line"}],staticClass:"form-control",attrs:{type:"number",placeholder:"最大数据行数"},domProps:{value:t.updateParam.max_data_line},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"max_data_line",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"checkCycle"}},[t._v("检查周期:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.check_cycle,expression:"updateParam.check_cycle"}],staticClass:"form-control",attrs:{type:"string",placeholder:"单位为分钟"},domProps:{value:t.updateParam.check_cycle},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"check_cycle",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"reloadCycle"}},[t._v("重新加载周期:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.reload_cycle,expression:"updateParam.reload_cycle"}],staticClass:"form-control",attrs:{type:"string",placeholder:"单位为分钟"},domProps:{value:t.updateParam.reload_cycle},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"reload_cycle",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataLiveTime"}},[t._v("数据存活时间:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.expire_time,expression:"updateParam.expire_time"}],staticClass:"form-control",attrs:{type:"string",placeholder:"单位为分钟"},domProps:{value:t.updateParam.expire_time},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"expire_time",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"mailList"}},[t._v("通知邮件列表:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.mail_list,expression:"updateParam.mail_list"}],staticClass:"form-control",attrs:{type:"text",placeholder:"test@staff.weibo.com,中间分号分隔"},domProps:{value:t.updateParam.mail_list},on:{input:function(a){a.target.composing||t.$set(t.updateParam,"mail_list",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"mailAlert"}},[t._v("完成后邮件通知:")]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.b_mailing,expression:"updateParam.b_mailing"}],attrs:{type:"radio",name:"inlineRadioOptions",value:"1"},domProps:{checked:t._q(t.updateParam.b_mailing,"1")},on:{change:function(a){return t.$set(t.updateParam,"b_mailing","1")}}}),t._v("是 ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateParam.b_mailing,expression:"updateParam.b_mailing"}],attrs:{type:"radio",name:"inlineRadioOptions",value:"0"},domProps:{checked:t._q(t.updateParam.b_mailing,"0")},on:{change:function(a){return t.$set(t.updateParam,"b_mailing","0")}}}),t._v("否 ")])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-2 col-sm-6"},[e("button",{staticClass:"btn btn-primary",staticStyle:{width:"100px"},on:{click:t.update}},[t._v("提 交")]),e("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"30px",width:"100px"},on:{click:t.goback}},[t._v("返 回")])])])]),e("modal",{attrs:{modalId:"srcDataFormatId",modalSize:"modal-lg"}},[e("template",{slot:"header"},[e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v("源数据格式")])]),e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"project"}},[t._v("数据结构:")]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataStruct,expression:"srcDataStruct"}],attrs:{type:"radio",name:"data_struct",value:"key-value"},domProps:{checked:t._q(t.srcDataStruct,"key-value")},on:{change:function(a){t.srcDataStruct="key-value"}}}),t._v("kv ")]),e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataStruct,expression:"srcDataStruct"}],attrs:{type:"radio",name:"data_struct",value:"vector"},domProps:{checked:t._q(t.srcDataStruct,"vector")},on:{change:function(a){t.srcDataStruct="vector"}}}),t._v("vector ")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"project"}},[t._v("数据存储格式:")]),e("div",{staticClass:"col-sm-6"},["key-value"==t.srcDataStruct?e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.storage_format,expression:"srcDataFormat.storage_format"}],attrs:{type:"radio",name:"data_type",value:"string"},domProps:{checked:t._q(t.srcDataFormat.storage_format,"string")},on:{change:function(a){return t.$set(t.srcDataFormat,"storage_format","string")}}}),t._v("string ")]):t._e(),"vector"==t.srcDataStruct?e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.storage_format,expression:"srcDataFormat.storage_format"}],attrs:{type:"radio",name:"data_type",value:"int_binary"},domProps:{checked:t._q(t.srcDataFormat.storage_format,"int_binary")},on:{change:function(a){return t.$set(t.srcDataFormat,"storage_format","int_binary")}}}),t._v("int二进制数据 ")]):t._e(),"vector"==t.srcDataStruct?e("label",{staticClass:"radio-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.storage_format,expression:"srcDataFormat.storage_format"}],attrs:{type:"radio",name:"data_type",value:"float32_binary"},domProps:{checked:t._q(t.srcDataFormat.storage_format,"float32_binary")},on:{change:function(a){return t.$set(t.srcDataFormat,"storage_format","float32_binary")}}}),t._v("float64二进制数组 ")]):t._e()])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"project"}},[t._v("分隔符:")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.srcDataFormat.delimiter,expression:"srcDataFormat.delimiter"}],staticClass:"form-control",attrs:{type:"email",placeholder:";"},domProps:{value:t.srcDataFormat.delimiter},on:{input:function(a){a.target.composing||t.$set(t.srcDataFormat,"delimiter",a.target.value)}}})])])]),e("template",{slot:"footer"},[e("button",{staticClass:"btn btn-default btn-danger",attrs:{type:"button"},on:{click:function(a){return t.showSrcDataFormatModal("hide")}}},[t._v("确定")])])],2)],1)},Q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-header"},[e("ul",{staticClass:"nav nav-pills"},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#/feature/update"}},[t._v("修改数据")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"dataSourceType"}},[t._v("数据源类型")]),e("div",{staticClass:"col-sm-6"},[e("p",{staticClass:"form-control-static"},[t._v("HADOOP")])])])}],K={name:"FeatureUpdateRecord",data:function(){return{updateParam:{name:"",source_type:"hadoop",source:"",prefix:"",source_dir:"",db_type:"redis",source_prefix:"",src_data_format:"",data_size:"",max_data_line:0,check_cycle:"",reload_cycle:"",expire_time:"",mail_list:"",b_mailing:1},srcDataStruct:"key-value",srcDataFormat:{storage_format:"string",delimiter:","}}},mounted:function(){this.getDetail()},computed:{srcDataFormatText:function(){return"数据结构：".concat(this.$config.common.dataStructConf[this.srcDataStruct],"，数据存储格式：").concat(this.$config.common.dataTypeConf[this.srcDataFormat.storage_format],"，分隔符：").concat(this.srcDataFormat.delimiter)}},watch:{srcDataStruct:function(t,a){}},methods:{getDetail:function(){var t=JSON.parse(localStorage.getItem("tempDetail"));this.updateParam=t,this.srcDataStruct=t.data_format_json.data_format,this.srcDataFormat=t.data_format_json},goback:function(){this.$router.go(-1)},update:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.updateParam,a.data_format=JSON.stringify({data_format:this.srcDataStruct,storage_format:this.srcDataFormat.storage_format,delimiter:this.srcDataFormat.delimiter}),a.creator=localStorage.getItem("userName"),t.next=5,this.$api.feature.create(this.updateParam);case 5:if(e=t.sent,0==e.errcode){t.next=9;break}return alert("修改失败"),t.abrupt("return");case 9:alert("修改成功");case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),verifyStoragePrefix:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.updateParam.prefix){t.next=3;break}return this.$bootbox.alert("请输入存储前缀"),t.abrupt("return");case 3:return t.next=5,this.$api.feature.verifyStoragePrefix(this.updateParam.prefix);case 5:if(a=t.sent,0==a.errcode){t.next=9;break}return this.$bootbox.alert("请求出错"),t.abrupt("return");case 9:"true"==a.data.status?this.$bootbox.alert("验证成功"):this.$bootbox.alert("验证失败");case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),showSrcDataFormatModal:function(t){$("#srcDataFormatId").modal(t)}}},W=K,X=Object(u["a"])(W,G,Q,!1,null,null,null),Z=X.exports;r["default"].use(P["a"]);var tt=new P["a"]({routes:[{path:"/",name:"Index",component:F},{path:"/feature/list",name:"FeatureLakeList",component:R},{path:"/feature/create",name:"FeatureCreate",component:A},{path:"/feature/create_record",name:"FeatureCreateRecord",component:B},{path:"/feature/update/:id",name:"FeatureUpdateRecord",component:Z}]});tt.afterEach((function(t,a,e){window.scrollTo(0,0)}));var at=tt,et=e("365c"),rt={dataStructConf:{"key-value":"kv",vector:"vector"},dataTypeConf:{string:"string",int_binary:"int二进制数据",float32_binary:"float64二进制数组"}},st={common:rt},ot=e("0267"),it=e("7adc"),ct=e("91b7"),lt=e("f5a6");e("cf64"),r["default"].component("loading",ot["a"]),r["default"].component("ShowJson",it["a"]),r["default"].component("popover",ct["a"]),r["default"].component("modal",lt["a"]),r["default"].config.productionTip=!1,r["default"].prototype.$api=et["a"],r["default"].prototype.$config=st,r["default"].prototype.$lodash=f.a,r["default"].prototype.$bootbox=bootbox,new r["default"]({el:"#app",router:at,components:{App:y},template:"<App/>"})},dd14:function(t,a,e){},dd4b:function(t,a,e){},fe8b:function(t,a,e){"use strict";var r=e("dd4b"),s=e.n(r);s.a}});
//# sourceMappingURL=ocean.d99a5fed.js.map